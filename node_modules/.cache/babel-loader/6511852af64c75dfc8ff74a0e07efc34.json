{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\shashidhar.AS\\\\Downloads\\\\iNotes-master\\\\iNotes-master\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\shashidhar.AS\\\\Downloads\\\\iNotes-master\\\\iNotes-master\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\shashidhar.AS\\\\Downloads\\\\iNotes-master\\\\iNotes-master\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useContext,useEffect,useRef,useState}from'react';import noteContext from'../context/notes/noteContext';import AddNote from'./AddNote';import NoteItem from'./NoteItem';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Notes=function Notes(props){var navigate=useNavigate();var context=useContext(noteContext);var notes=context.notes,getNotes=context.getNotes,editNote=context.editNote;useEffect(function(){if(localStorage.getItem('token')){getNotes();}else{navigate(\"/login\");}// eslint-disable-next-line\n},[]);var ref=useRef(null);var refClose=useRef(null);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"default\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var updateNote=function updateNote(currentNote){ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var handleClick=function handleClick(e){editNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();props.showAlert(\"Updated Successfully!\",\"success\");};var onChange=function onChange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{showAlert:props.showAlert}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",ref:ref,className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#editModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"editModal\",tabIndex:\"-1\",\"aria-labelledby\":\"editModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"editModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edescription\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:onChange,minLength:5,required:true})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<5||note.edescription.length<5,onClick:handleClick,type:\"button\",className:\"btn btn-primary\",children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Your Notes\"}),notes.length===0?'No notes to display':/*#__PURE__*/_jsx(\"div\",{className:\"row my-3\",children:notes.map(function(note){return/*#__PURE__*/_jsx(NoteItem,{updateNote:updateNote,note:note},note._id);})})]});};export default Notes;","map":{"version":3,"sources":["C:/Users/shashidhar.AS/Downloads/iNotes-master/iNotes-master/src/components/Notes.js"],"names":["React","useContext","useEffect","useRef","useState","noteContext","AddNote","NoteItem","useNavigate","Notes","props","navigate","context","notes","getNotes","editNote","localStorage","getItem","ref","refClose","id","etitle","edescription","etag","note","setNote","updateNote","currentNote","current","click","_id","title","description","tag","handleClick","e","showAlert","onChange","target","name","value","length","map"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react'\nimport noteContext from '../context/notes/noteContext'\nimport AddNote from './AddNote';\nimport NoteItem from './NoteItem';\nimport { useNavigate } from 'react-router-dom';\n\nconst Notes = (props) => {\n\n    const navigate = useNavigate();\n    const context = useContext(noteContext);\n    const { notes, getNotes, editNote } = context;\n\n    useEffect(() => {\n        if(localStorage.getItem('token')){\n            getNotes();\n        }\n        else{\n            navigate(\"/login\");\n        }\n        // eslint-disable-next-line\n    }, [])\n\n    const ref = useRef(null)\n    const refClose = useRef(null)\n\n    const [note, setNote] = useState({ id: \"\", etitle: \"\", edescription: \"\", etag: \"default\" })\n\n    const updateNote = (currentNote) => {\n        ref.current.click();\n        setNote({ id: currentNote._id, etitle: currentNote.title, edescription: currentNote.description, etag: currentNote.tag, })\n    }\n\n    const handleClick = (e) => {\n        editNote(note.id, note.etitle, note.edescription, note.etag)\n        refClose.current.click();\n        props.showAlert(\"Updated Successfully!\", \"success\")\n    }\n\n    const onChange = (e) => {\n        setNote({ ...note, [e.target.name]: e.target.value })\n    }\n\n    return (\n        <>\n            <AddNote showAlert={props.showAlert}/>\n            <button type=\"button\" ref={ref} className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#editModal\">\n                Launch demo modal\n            </button>\n            <div className=\"modal fade\" id=\"editModal\" tabIndex=\"-1\" aria-labelledby=\"editModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"editModalLabel\">Edit Note</h5>\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <form className=\"my-3\">\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"etitle\" className=\"form-label\">Title</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name=\"etitle\" value={note.etitle} onChange={onChange} minLength={5} required/>\n                                </div>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"edescription\" className=\"form-label\">Description</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription} onChange={onChange} minLength={5} required/>\n                                </div>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"etag\" className=\"form-label\">Tag</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" value={note.etag} onChange={onChange} minLength={5} required/>\n                                </div>\n                            </form>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                            <button disabled={note.etitle.length<5 || note.edescription.length<5} onClick={handleClick} type=\"button\" className=\"btn btn-primary\">Update Note</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <h2>Your Notes</h2>\n            {notes.length===0 ? 'No notes to display' : \n            <div className=\"row my-3\">\n                {notes.map((note) => {\n                    return <NoteItem key={note._id} updateNote={updateNote} note={note} />\n                })}\n            </div>\n            }\n        </>\n    )\n}\n\nexport default Notes"]},"metadata":{},"sourceType":"module"}